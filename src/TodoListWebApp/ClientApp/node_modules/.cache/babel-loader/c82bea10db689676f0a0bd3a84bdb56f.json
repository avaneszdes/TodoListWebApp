{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Vladislav Avanesov\\\\RiderProjects\\\\TodoListWebApp\\\\src\\\\TodoListWebApp\\\\ClientApp\\\\src\\\\components\\\\Admin\\\\AdminPage.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { DELETE_USER, EDIT_USER, GET_USERS, LOG_OUT } from \"../../redux/constants\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { Collapse, Container, Dialog, DialogActions, DialogContent, DialogTitle, List, ListItem, ListItemAvatar, ListItemText, TextField } from \"@material-ui/core\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Button from \"@material-ui/core/Button\";\nimport { useFormik } from \"formik\";\nimport { ExpandLess, ExpandMore } from \"@material-ui/icons\";\nimport history from '../history';\nconst useStyles = makeStyles(theme => createStyles({\n  root: {\n    width: '100%',\n    maxWidth: 1800\n  },\n  nested: {\n    paddingLeft: theme.spacing(4)\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  item: {\n    width: '200px',\n    borderWidth: '1px',\n    borderColor: 'green',\n    borderStyle: 'solid',\n    paddingLeft: '20px',\n    paddingTop: '14px',\n    borderRadius: '10px!important',\n    marginLeft: '10px'\n  },\n  headerItem: {\n    marginTop: '3px',\n    width: '218px',\n    height: '30px',\n    borderWidth: '2px',\n    borderTop: 'white',\n    borderBottom: 'white',\n    borderStyle: 'solid',\n    paddingTop: '5px',\n    marginLeft: '10px',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n}));\n\nconst yup = require('yup');\n\nrequire('yup-password')(yup);\n\nconst vScheme = yup.object().shape({\n  firstName: yup.string().min(2, 'must be most than 2 symbols').max(30, 'must be lest than 30 symbols').required('required'),\n  lastName: yup.string().min(2, 'must be most than 2 symbols').max(30, 'must be lest than 30 symbols').required('required'),\n  email: yup.string().email('incorrect email address').required('required')\n});\nexport default function AdminPage() {\n  _s();\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [open, setOpen] = useState(false);\n  const [openList, setOpenList] = useState(false);\n  const [role, setRole] = useState('user');\n  const [userId, setUserId] = useState(0);\n  const users = useSelector(x => x.users);\n  const [user, setUser] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    id: 1,\n    role: 'qwe',\n    password: '123',\n    todosCount: 1,\n    photo: ''\n  });\n  useEffect(() => {\n    dispatch({\n      type: GET_USERS,\n      payload: []\n    });\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleOpenRoleList = () => {\n    setOpenList(!openList);\n  };\n\n  const logOut = () => {\n    let token = '';\n    localStorage.clear();\n    dispatch({\n      type: LOG_OUT,\n      token\n    });\n    history.push(\"/\");\n  };\n\n  const handleClose = () => {\n    setOpen(!open);\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      id: 0,\n      firstName: '',\n      lastName: '',\n      email: '',\n      role: ''\n    },\n    validationSchema: vScheme,\n    onSubmit: values => {\n      const user = users.find(x => x.id === userId);\n      handleClose();\n      dispatch({\n        type: EDIT_USER,\n        payload: { ...values,\n          id: userId,\n          todosCount: user === null || user === void 0 ? void 0 : user.todosCount,\n          photo: user === null || user === void 0 ? void 0 : user.photo,\n          role: role\n        }\n      });\n    }\n  });\n\n  const handleClickOpen = Id => {\n    const a = users.filter(x => x.id = Id)[0];\n    setUser(a);\n    setUserId(Id);\n    setOpen(!open);\n  };\n\n  const deleteUser = userId => {\n    dispatch({\n      type: DELETE_USER,\n      payload: userId\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"xl\",\n      children: [/*#__PURE__*/_jsxDEV(Dialog, {\n        open: open,\n        onClose: handleClose,\n        \"aria-labelledby\": \"form-title\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: classes.form,\n          onSubmit: formik.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            id: \"form-title\",\n            children: \"Change user`s data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              id: \"firstName\",\n              label: \"First Name\",\n              type: \"text\",\n              name: \"firstName\",\n              onChange: formik.handleChange,\n              error: formik.touched.firstName && Boolean(formik.errors.firstName),\n              value: formik.values.firstName,\n              helperText: formik.touched.firstName && formik.errors.firstName,\n              placeholder: user.firstName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              id: \"lastName\",\n              label: \"Last Name\",\n              type: \"text\",\n              name: \"lastName\",\n              onChange: formik.handleChange,\n              error: formik.touched.lastName && Boolean(formik.errors.lastName),\n              value: formik.values.lastName,\n              helperText: formik.touched.lastName && formik.errors.lastName,\n              placeholder: user.lastName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              id: \"email\",\n              label: \"Email Address\",\n              name: \"email\",\n              autoComplete: \"email\",\n              autoFocus: true,\n              onChange: formik.handleChange,\n              error: formik.touched.email && Boolean(formik.errors.email),\n              value: formik.values.email,\n              helperText: formik.touched.email && formik.errors.email,\n              placeholder: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n              button: true,\n              onClick: handleOpenRoleList,\n              children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: \"Roles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 33\n              }, this), openList ? /*#__PURE__*/_jsxDEV(ExpandLess, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 45\n              }, this) : /*#__PURE__*/_jsxDEV(ExpandMore, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 61\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n              in: openList,\n              timeout: \"auto\",\n              unmountOnExit: true,\n              children: /*#__PURE__*/_jsxDEV(List, {\n                component: \"div\",\n                disablePadding: true,\n                children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                  button: true,\n                  onClick: () => {\n                    setRole('admin');\n                    setOpenList(!openList);\n                  },\n                  className: classes.nested,\n                  children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: \"Admin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                  button: true,\n                  onClick: () => {\n                    setRole('user');\n                    setOpenList(!openList);\n                  },\n                  className: classes.nested,\n                  children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: \"User\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              color: \"primary\",\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleClose,\n              color: \"primary\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          paddingLeft: '97px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.headerItem,\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"First Name \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.headerItem,\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Last Name \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.headerItem,\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Todos Count\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.headerItem,\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Email \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.headerItem,\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Role \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: logOut,\n          style: {\n            width: '203px',\n            marginTop: '4px',\n            marginLeft: '3px'\n          },\n          variant: \"outlined\",\n          color: \"primary\",\n          children: \"Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        dense: true,\n        className: classes.root,\n        children: users.map((value, index) => {\n          return /*#__PURE__*/_jsxDEV(ListItem, {\n            children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                style: {\n                  height: '80px',\n                  width: '80px'\n                },\n                alt: `Avatar n°${value.firstName[0] + value.lastName[0]}`,\n                src: value.photo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.item,\n                children: value.firstName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.item,\n                children: value.lastName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.item,\n                children: value.todosCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.item,\n                children: value.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.item,\n                children: value.role\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"secondary\",\n                className: classes.button,\n                startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 52\n                }, this),\n                onClick: () => deleteUser(value.id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"secondary\",\n                className: classes.button,\n                startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 52\n                }, this),\n                onClick: () => handleClickOpen(value.id),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(AdminPage, \"/kBcj/lVTVa2912Tgmvfn2SBpUY=\", false, function () {\n  return [useStyles, useDispatch, useSelector, useFormik];\n});\n\n_c = AdminPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"sources":["C:/Users/Vladislav Avanesov/RiderProjects/TodoListWebApp/src/TodoListWebApp/ClientApp/src/components/Admin/AdminPage.tsx"],"names":["React","useEffect","useState","useDispatch","useSelector","DELETE_USER","EDIT_USER","GET_USERS","LOG_OUT","createStyles","makeStyles","Collapse","Container","Dialog","DialogActions","DialogContent","DialogTitle","List","ListItem","ListItemAvatar","ListItemText","TextField","Avatar","DeleteIcon","EditIcon","Button","useFormik","ExpandLess","ExpandMore","history","useStyles","theme","root","width","maxWidth","nested","paddingLeft","spacing","form","marginTop","button","margin","item","borderWidth","borderColor","borderStyle","paddingTop","borderRadius","marginLeft","headerItem","height","borderTop","borderBottom","display","justifyContent","alignItems","yup","require","vScheme","object","shape","firstName","string","min","max","required","lastName","email","AdminPage","classes","dispatch","open","setOpen","openList","setOpenList","role","setRole","userId","setUserId","users","x","user","setUser","id","password","todosCount","photo","type","payload","handleOpenRoleList","logOut","token","localStorage","clear","push","handleClose","formik","initialValues","validationSchema","onSubmit","values","find","handleClickOpen","Id","a","filter","deleteUser","handleSubmit","handleChange","touched","Boolean","errors","map","value","index"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {useDispatch, useSelector} from \"react-redux\"\r\nimport {DELETE_USER, EDIT_USER, GET_USERS, LOG_OUT} from \"../../redux/constants\"\r\nimport {IRootState} from \"../../redux/configureStore\";\r\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\r\nimport {\r\n    Collapse, Container,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    List,\r\n    ListItem,\r\n    ListItemAvatar, ListItemText,\r\n    TextField\r\n} from \"@material-ui/core\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\n\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {useFormik} from \"formik\";\r\nimport {ExpandLess, ExpandMore} from \"@material-ui/icons\";\r\nimport {User} from '../Interfaces' ;\r\nimport history from '../history'\r\n\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n\r\n            width: '100%',\r\n            maxWidth: 1800,\r\n\r\n        },\r\n        nested: {\r\n            paddingLeft: theme.spacing(4),\r\n        },\r\n        form: {\r\n\r\n            width: '100%', // Fix IE 11 issue.\r\n            marginTop: theme.spacing(3),\r\n        },\r\n        button: {\r\n            margin: theme.spacing(1),\r\n        },\r\n        item: {\r\n            width: '200px',\r\n            borderWidth: '1px',\r\n            borderColor: 'green',\r\n            borderStyle: 'solid',\r\n            paddingLeft: '20px',\r\n            paddingTop: '14px',\r\n            borderRadius: '10px!important',\r\n            marginLeft: '10px',\r\n        },\r\n        headerItem: {\r\n            marginTop: '3px',\r\n            width: '218px',\r\n            height: '30px',\r\n            borderWidth: '2px',\r\n            borderTop: 'white',\r\n            borderBottom: 'white',\r\n            borderStyle: 'solid',\r\n            paddingTop: '5px',\r\n            marginLeft: '10px',\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n        },\r\n\r\n    }),\r\n);\r\n\r\n\r\nconst yup = require('yup')\r\nrequire('yup-password')(yup)\r\n\r\nconst vScheme = yup.object().shape({\r\n    firstName: yup.string().min(2, 'must be most than 2 symbols').max(30, 'must be lest than 30 symbols').required('required'),\r\n    lastName: yup.string().min(2, 'must be most than 2 symbols').max(30, 'must be lest than 30 symbols').required('required'),\r\n    email: yup.string().email('incorrect email address').required('required'),\r\n})\r\n\r\nexport default function AdminPage() {\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n    const [open, setOpen] = useState(false)\r\n    const [openList, setOpenList] = useState(false)\r\n    const [role, setRole] = useState('user')\r\n    const [userId, setUserId] = useState(0)\r\n    const users = useSelector((x: IRootState) => x.users)\r\n    \r\n \r\n    const [user, setUser] = useState<User>({\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        id: 1,\r\n        role: 'qwe',\r\n        password: '123',\r\n        todosCount: 1,\r\n        photo: '',\r\n    });\r\n\r\n    useEffect(() => {\r\n        dispatch({type: GET_USERS, payload: []})\r\n    }, [])// eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    const handleOpenRoleList = () => {\r\n        setOpenList(!openList)\r\n    }\r\n\r\n    const logOut = () => {\r\n        let token: string = ''\r\n        localStorage.clear()\r\n        dispatch({type: LOG_OUT, token})\r\n        history.push(\"/\")\r\n    }\r\n    const handleClose = () => {\r\n        setOpen(!open)\r\n    }\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            id: 0,\r\n            firstName: '',\r\n            lastName: '',\r\n            email: '',\r\n            role: '',\r\n        },\r\n        validationSchema: vScheme,\r\n        onSubmit: (values) => {\r\n            const user: User | undefined = users.find(x => x.id === userId)\r\n            handleClose()\r\n            dispatch({\r\n                type: EDIT_USER,\r\n                payload: {\r\n                    ...values,\r\n                    id: userId,\r\n                    todosCount: user?.todosCount,\r\n                    photo: user?.photo,\r\n                    role: role\r\n                }\r\n            })\r\n        },\r\n    })\r\n    const handleClickOpen = (Id: number) => {\r\n\r\n        const a: User = users.filter(x => x.id = Id)[0]\r\n        setUser(a)\r\n        setUserId(Id)\r\n        setOpen(!open)\r\n    }\r\n\r\n    const deleteUser = (userId: number) => {\r\n        dispatch({type: DELETE_USER, payload: userId})\r\n    }\r\n\r\n    return (<>\r\n            <Container maxWidth=\"xl\">\r\n                <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-title\">\r\n                    <form className={classes.form} onSubmit={formik.handleSubmit}>\r\n                        <DialogTitle id=\"form-title\">Change user`s data</DialogTitle>\r\n                        <DialogContent>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                required\r\n                                fullWidth\r\n                                id='firstName'\r\n                                label='First Name'\r\n                                type='text'\r\n                                name=\"firstName\"\r\n                                onChange={formik.handleChange}\r\n                                error={formik.touched.firstName && Boolean(formik.errors.firstName)}\r\n                                value={formik.values.firstName}\r\n                                helperText={formik.touched.firstName && formik.errors.firstName}\r\n                                placeholder={user.firstName}\r\n                            />\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                required\r\n                                fullWidth\r\n                                id='lastName'\r\n                                label='Last Name'\r\n                                type='text'\r\n                                name=\"lastName\"\r\n                                onChange={formik.handleChange}\r\n                                error={formik.touched.lastName && Boolean(formik.errors.lastName)}\r\n                                value={formik.values.lastName}\r\n                                helperText={formik.touched.lastName && formik.errors.lastName}\r\n                                placeholder={user.lastName}\r\n                            />\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"email\"\r\n                                label=\"Email Address\"\r\n                                name=\"email\"\r\n                                autoComplete=\"email\"\r\n                                autoFocus\r\n                                onChange={formik.handleChange}\r\n                                error={formik.touched.email && Boolean(formik.errors.email)}\r\n                                value={formik.values.email}\r\n                                helperText={formik.touched.email && formik.errors.email}\r\n                                placeholder={user.email}\r\n                            />\r\n\r\n                            <ListItem button onClick={handleOpenRoleList}>\r\n                                <ListItemText primary=\"Roles\"/>\r\n                                {openList ? <ExpandLess/> : <ExpandMore/>}\r\n                            </ListItem>\r\n                            <Collapse in={openList} timeout=\"auto\" unmountOnExit>\r\n                                <List component=\"div\" disablePadding>\r\n                                    <ListItem button onClick={() => {\r\n                                        setRole('admin');\r\n                                        setOpenList(!openList)\r\n                                    }} className={classes.nested}>\r\n                                        <ListItemText primary=\"Admin\"/>\r\n                                    </ListItem>\r\n                                    <ListItem button onClick={() => {\r\n                                        setRole('user');\r\n                                        setOpenList(!openList)\r\n                                    }} className={classes.nested}>\r\n                                        <ListItemText primary=\"User\"/>\r\n                                    </ListItem>\r\n                                </List>\r\n                            </Collapse>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                            <Button\r\n                                type='submit'\r\n                                color='primary'\r\n                            >\r\n                                Edit\r\n                            </Button>\r\n                            <Button\r\n                                onClick={handleClose}\r\n                                color='primary'\r\n                            >\r\n                                Cancel\r\n                            </Button>\r\n                        </DialogActions>\r\n                    </form>\r\n                </Dialog>\r\n\r\n                <div style={{display: 'flex', paddingLeft: '97px'}}>\r\n                    <div className={classes.headerItem}><h3>First Name </h3></div>\r\n                    <div className={classes.headerItem}><h3>Last Name </h3></div>\r\n                    <div className={classes.headerItem}><h3>Todos Count</h3></div>\r\n                    <div className={classes.headerItem}><h3>Email </h3></div>\r\n                    <div className={classes.headerItem}><h3>Role </h3></div>\r\n                    <Button onClick={logOut} style={{width: '203px', marginTop: '4px', marginLeft: '3px'}}\r\n                            variant=\"outlined\" color=\"primary\">\r\n                        Log Out\r\n                    </Button>\r\n                </div>\r\n                <List dense className={classes.root}>\r\n                    {users.map((value: User, index: number) => {\r\n                        return (\r\n                            <ListItem key={index}>\r\n                                <ListItemAvatar>\r\n                                    <Avatar\r\n                                        style={{height: '80px', width: '80px'}}\r\n                                        alt={`Avatar n°${value.firstName[0] + value.lastName[0]}`}\r\n                                        src={value.photo}\r\n                                    />\r\n                                </ListItemAvatar>\r\n                                <div style={{display: 'flex'}}>\r\n                                    <div className={classes.item}>{value.firstName}</div>\r\n                                    <div className={classes.item}>{value.lastName}</div>\r\n                                    <div className={classes.item}>{value.todosCount}</div>\r\n                                    <div className={classes.item}>{value.email}</div>\r\n                                    <div className={classes.item}>{value.role}</div>\r\n\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        color=\"secondary\"\r\n                                        className={classes.button}\r\n                                        startIcon={<DeleteIcon/>}\r\n                                        onClick={() => deleteUser(value.id)}\r\n                                    >\r\n                                        Delete\r\n                                    </Button>\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        color=\"secondary\"\r\n                                        className={classes.button}\r\n                                        startIcon={<EditIcon/>}\r\n                                        onClick={() => handleClickOpen(value.id)}\r\n                                    >\r\n                                        Edit\r\n                                    </Button>\r\n\r\n                                </div>\r\n                            </ListItem>\r\n\r\n                        );\r\n                    })}\r\n                </List>\r\n            </Container>\r\n        </>\r\n    );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}